YUI.add("hermes-template-photo-list-album-interaction",function(a,n){var l=a.Template.Handlebars.revive({1:function(a,n,l,e,t){return" has-actions"},3:function(a,n,l,e,t){var s;return'\t\t\t\t<span class="metadot">&middot;</span>\n\t\t\t\t<span class="album-views-count-wrapper">\n\t\t\t\t\t<span class="album-views-label secondary">\n\t\t\t\t\t\t'+a.escapeExpression((l.intlMessage||n&&n.intlMessage||l.helperMissing).call(null!=n?n:{},{name:"intlMessage",hash:{selectedCount:null!=(s=null!=n?n.album:n)?s.viewCount:s,intlName:"album-page.VIEWS_COUNT"},data:t}))+"\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n"},5:function(a,n,l,e,t){var s,i=null!=n?n:{};return'\t\t<div class="actions '+(null!=(s=l.unless.call(i,null!=(s=null!=n?n.album:n)?s.isOwner:s,{name:"unless",hash:{},fn:a.program(6,t,0),inverse:a.noop,data:t}))?s:"")+'">\n\t\t\t<a class="share cta'+(null!=(s=l.unless.call(i,null!=(s=null!=n?n.album:n)?s.canShare:s,{name:"unless",hash:{},fn:a.program(8,t,0),inverse:a.noop,data:t}))?s:"")+'" title="'+(null!=(s=l.if.call(i,null!=(s=null!=n?n.album:n)?s.canShare:s,{name:"if",hash:{},fn:a.program(10,t,0),inverse:a.program(12,t,0),data:t}))?s:"")+'"><span></span></a>\n'+(null!=(s=l.if.call(i,null!=(s=null!=n?n.album:n)?s.isOwner:s,{name:"if",hash:{},fn:a.program(14,t,0),inverse:a.noop,data:t}))?s:"")+(null!=(s=l.if.call(i,null!=n?n.enableDownloading:n,{name:"if",hash:{},fn:a.program(16,t,0),inverse:a.noop,data:t}))?s:"")+(null!=(s=l.if.call(i,null!=n?n.enableDeleting:n,{name:"if",hash:{},fn:a.program(18,t,0),inverse:a.noop,data:t}))?s:"")+"\t\t</div>\n"},6:function(a,n,l,e,t){return"less-items"},8:function(a,n,l,e,t){return" is-disabled"},10:function(a,n,l,e,t){return a.escapeExpression((l.intlMessage||n&&n.intlMessage||l.helperMissing).call(null!=n?n:{},{name:"intlMessage",hash:{intlName:"album-page.SHARE_THIS_ALBUM"},data:t}))},12:function(a,n,l,e,t){return a.escapeExpression((l.intlMessage||n&&n.intlMessage||l.helperMissing).call(null!=n?n:{},{name:"intlMessage",hash:{intlName:"share-modal.SHARING_DISABLED"},data:t}))},14:function(a,n,l,e,t){return'\t\t\t\t<a class="book cta" title="'+a.escapeExpression((l.intlMessage||n&&n.intlMessage||l.helperMissing).call(null!=n?n:{},{name:"intlMessage",hash:{intlName:"album-page.CREATE_BOOK_FROM_ALBUM"},data:t}))+'"><span></span></a>\n'},16:function(a,n,l,e,t){return'\t\t\t\t<a class="download cta" title="'+a.escapeExpression((l.intlMessage||n&&n.intlMessage||l.helperMissing).call(null!=n?n:{},{name:"intlMessage",hash:{intlName:"common.DOWNLOAD"},data:t}))+'"><span></span></a>\n'},18:function(a,n,l,e,t){return'\t\t\t\t<a class="trash cta" title="'+a.escapeExpression((l.intlMessage||n&&n.intlMessage||l.helperMissing).call(null!=n?n:{},{name:"intlMessage",hash:{intlName:"album-page.DELETE_THIS_ALBUM"},data:t}))+'"><span></span></a>\n'},compiler:[7,">= 4.0.0"],main:function(a,n,l,e,t){var s,i=null!=n?n:{},r=a.lambda,u=a.escapeExpression,o=l.helperMissing;return'<div class="photo-list-album-interaction dark'+(null!=(s=l.if.call(i,null!=n?n.enableActions:n,{name:"if",hash:{},fn:a.program(1,t,0),inverse:a.noop,data:t}))?s:"")+'" data-albumId="'+u(r(null!=(s=null!=n?n.album:n)?s.id:s,n))+'">\n\t<a class="overlay" href="'+u(r(null!=(s=null!=n?n.album:n)?s.url:s,n))+'"></a>\n\t<div class="interaction-bar">\n\t\t<div class="metadata">\n\t\t\t<h4 class="album-title">'+u((l.truncate||n&&n.truncate||o).call(i,null!=(s=null!=n?n.album:n)?s.title:s,120,!1,!0,{name:"truncate",hash:{},data:t}))+'</h4>\n\t\t\t<span class="album-photo-count secondary">'+u(r(null!=(s=null!=n?n.album:n)?s.photoAndVideosDisplay:s,n))+"</span>\n\n"+(null!=(s=(l.ifCond||n&&n.ifCond||o).call(i,null!=(s=null!=n?n.album:n)?s.viewCount:s,">",0,{name:"ifCond",hash:{},fn:a.program(3,t,0),inverse:a.noop,data:t}))?s:"")+"\t\t</div>\n\n"+(null!=(s=l.if.call(i,null!=n?n.enableActions:n,{name:"if",hash:{},fn:a.program(5,t,0),inverse:a.noop,data:t}))?s:"")+"\t</div>\n</div>\n"},useData:!0}),e={};a.Array.each([],function(n){var l=a.Template.get("hermes/"+n);l&&(e[n]=l)}),a.Template.register("hermes/photo-list-album-interaction",function(n,t){return t=t||{},t.partials=t.partials?a.merge(e,t.partials):e,l(n,t)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("photo-list-album-interaction-view",function(e){var t=require("hermes-core/type-validator");e.namespace("Views")[this.name]=e.Base.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(e){return""===this.get("container").get("innerHTML")&&this.setContainerHTML(""),this},loadState:function(){return e.Promise.resolve()},buildContainer:function(){var e,t=this.get("model");return e={album:this.get("model").toJSON()},(t.getValue("canShare")||t.getValue("isOwner")||this.appContext.flipper.isFlipped("enable-album-download")&&t.getValue("canDownload"))&&(e.enableActions=!0),(this.appContext.flipper.isFlipped("enable-just-your-album-download")&&t.getValue("isOwner")||this.appContext.flipper.isFlipped("enable-album-download")&&t.getValue("canDownload"))&&(e.enableDownloading=!0),t.getValue("isOwner")&&!t.getValue("isAutoUploadSet")&&(e.enableDeleting=!0),this.setContainerWithTemplate("photo-list-album-interaction",e),this},activate:function(){return this},destructor:function(){}},{ATTRS:{id:{writeOnce:"initOnly",validator:function(e,n){return t.photoId(e)}},model:{writeOnce:"initOnly"},albumPageUrl:{writeOnce:"initOnly"},engagement:{value:null},engagementModelName:{writeOnce:"initOnly",value:null,validator:function(t,n){return e.AttributeHelpers.validateString(t)}}}})},"@VERSION@",{requires:["flickr-view","hermes-template-photo-list-album-interaction","attribute-helpers"],optionalRequires:["fluid"],langBundles:["models","common","album-page","share-modal"]});