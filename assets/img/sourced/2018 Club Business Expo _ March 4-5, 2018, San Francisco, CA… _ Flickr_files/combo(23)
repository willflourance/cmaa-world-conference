YUI.add("hermes-template-account-menu",function(a,n){var e=a.Template.Handlebars.revive({1:function(a,n,e,t,l){var s,r=null!=n?n:{},u=e.helperMissing,i=a.escapeExpression;return'\t<div class="c-account-menu">\n\t\t<div class="c-account-buddyicon">\n\t\t\t<a href="/account"\n\t\t\t\ttabindex="0"\n\t\t\t\taria-haspopup="true"\n\t\t\t\taria-expanded="false"\n\t\t\t\taria-label="'+i((e.intlMessage||n&&n.intlMessage||u).call(r,{name:"intlMessage",hash:{intlName:"autosuggest.YOUR_ACCOUNT"},data:l}))+'">\n\t\t\t\t<div class="avatar person tiny" style="background-image: url('+i(a.lambda(null!=(s=null!=(s=null!=n?n.user:n)?s.buddyicon:s)?s.default:s,n))+')"></div>\n\t\t\t</a>\n\n\t\t\t'+(null!=(s=(e.isNotFlipped||n&&n.isNotFlipped||u).call(r,"notifications-menu",{name:"isNotFlipped",hash:{},fn:a.program(2,l,0),inverse:a.noop,data:l}))?s:"")+"\n\t\t</div>\n\t</div>\n"},2:function(a,n,e,t,l){var s;return null!=(s=e.if.call(null!=n?n:{},null!=(s=null!=n?n.user:n)?s.unreadMessages:s,{name:"if",hash:{},fn:a.program(3,l,0),inverse:a.noop,data:l}))?s:""},3:function(a,n,e,t,l){var s;return'<span class="c-account-unreadcount">'+a.escapeExpression(a.lambda(null!=(s=null!=n?n.user:n)?s.unreadMessages:s,n))+"</span>"},compiler:[7,">= 4.0.0"],main:function(a,n,e,t,l){var s;return null!=(s=e.if.call(null!=n?n:{},null!=(s=null!=n?n.user:n)?s.signedIn:s,{name:"if",hash:{},fn:a.program(1,l,0),inverse:a.noop,data:l}))?s:""},useData:!0}),t={};a.Array.each([],function(n){var e=a.Template.get("hermes/"+n);e&&(t[n]=e)}),a.Template.register("hermes/account-menu",function(n,l){return l=l||{},l.partials=l.partials?a.merge(t,l.partials):t,e(n,l)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-greetings",function(a,e){var n=a.Template.Handlebars.revive({1:function(a,e,n,l,s){var t,u=a.lambda,i=a.escapeExpression,m=null!=e?e:{},h=n.helperMissing;return"<h4>Hola, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_SPANISH"},data:s}))+"</p>\n<h4>Guten Tag, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_GERMAN"},data:s}))+"</p>\n<h4>Servus, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_GERMAN"},data:s}))+"</p>\n<h4>G&rsquo;day, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_AUSTRALIAN"},data:s}))+"</p>\n<h4>Hoi, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_DUTCH"},data:s}))+"</p>\n<h4>Yo, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_ENGLISH"},data:s}))+"</p>\n<h4>Hi, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_ENGLISH"},data:s}))+"</p>\n<h4>Oi, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_ENGLISH"},data:s}))+"</p>\n<h4>Hala, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_ARABIC"},data:s}))+"</p>\n<h4>Ahoy, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_ENGLISH"},data:s}))+"</p>\n<h4>Hello, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_ENGLISH"},data:s}))+"</p>\n<h4>Bonjour, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_FRENCH"},data:s}))+"</p>\n<h4>Salut, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_FRENCH"},data:s}))+"</p>\n<h4>Salaam, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_ARABIC"},data:s}))+"</p>\n<h4>Ciao, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_ITALIAN"},data:s}))+"</p>\n<h4>Hola, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_SPANISH"},data:s}))+"</p>\n<h4>Hej, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_SWEDISH"},data:s}))+"</p>\n<h4>Aloha, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_HAWAIIAN"},data:s}))+"</p>\n<h4>Kumusta, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_TAGALOG"},data:s}))+"</p>\n<h4>Shalom, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_HEBREW"},data:s}))+"</p>\n<h4>'Allo, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_ENGLISH"},data:s}))+"</p>\n<h4>Namaste, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_HINDI"},data:s}))+"</p>\n<h4>Ni hao, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_MANDARIN"},data:s}))+"</p>\n<h4>Ol&aacute;, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_PORTUGUESE"},data:s}))+"</p>\n<h4>P&euml;rsh&euml;ndetje, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_ALBANIAN"},data:s}))+"</p>\n<h4>Tere, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_ESTONIAN"},data:s}))+"</p>\n<h4>Yasou, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_GREEK"},data:s}))+"</p>\n<h4>Szia, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_HUNGARIAN"},data:s}))+"</p>\n<h4>Mbote, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_LINGALA"},data:s}))+"</p>\n<h4>Jambo, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_SWAHILI"},data:s}))+"</p>\n<h4>Moyo, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_TSHILUBA"},data:s}))+"</p>\n<h4>Merhaba, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_TURKISH"},data:s}))+"</p>\n<h4>Mingalaba, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_BURMESE"},data:s}))+"</p>\n<h4>G&#243;&#240;an daginn, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_ICELANDIC"},data:s}))+"</p>\n<h4>Sawubona, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_ZULU"},data:s}))+"</p>\n<h4>Bangawoyo, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_KOREAN"},data:s}))+"</p>\n<h4>F&aacute;ilte, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_IRISH"},data:s}))+"</p>\n<h4>Labdien, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_LATVIAN"},data:s}))+"</p>\n<h4>Kaixo, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_BASQUE"},data:s}))+"</p>\n<h4>Nomoshkar, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_BENGALI"},data:s}))+"</p>\n<h4>Zdrasti, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_BULGARIAN"},data:s}))+"</p>\n<h4>Bok, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_CROATIAN"},data:s}))+"</p>\n<h4>Dobr&yacute; den, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_CZECH"},data:s}))+"</p>\n<h4>Hej, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_DANISH"},data:s}))+"</p>\n<h4>Hyv&auml;&auml; p&auml;iv&auml;&auml;, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_FINNISH"},data:s}))+"</p>\n<h4>Mike, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_HOPI"},data:s}))+"</p>\n<h4>Szia, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_HUNGARIAN"},data:s}))+"</p>\n<h4>Halo, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_INDONESIAN"},data:s}))+"</p>\n<h4>Namaskara, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_KANNADA"},data:s}))+"</p>\n<h4>Chonî, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_KURDISH"},data:s}))+"</p>\n<h4>Labas, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_LITHUANIAN"},data:s}))+"</p>\n<h4>Selamat datang, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_MALAYSIAN"},data:s}))+"</p>\n<h4>Hei, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_NORWEGIAN"},data:s}))+"</p>\n<h4>Witaj, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_POLISH"},data:s}))+"</p>\n<h4>Bun&#x103; Ziua, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_ROMANIAN"},data:s}))+"</p>\n<h4>Privet, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_RUSSIAN"},data:s}))+"</p>\n<h4>Zdravo, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_SERBIAN"},data:s}))+"</p>\n<h4>Ahoj, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_SLOVAKIAN"},data:s}))+"</p>\n<h4>Pryvit, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_UKRAINIAN"},data:s}))+"</p>\n<h4>Xin ch&agrave;o, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_VIETNAMESE"},data:s}))+"</p>\n<h4>Sawubona, "+i(u(null!=(t=null!=(t=null!=e?e.attrs:e)?t.user:t)?t.username:t,e))+"!</h4><p>"+i((n.intlMessage||e&&e.intlMessage||h).call(m,{name:"intlMessage",hash:{intlName:"account-menu.GREETING_CAPTION_ZULU"},data:s}))+"</p> \n"},compiler:[7,">= 4.0.0"],main:function(a,e,n,l,s){var t,u,i;return u=null!=(u=n.randomLine||(null!=e?e.randomLine:e))?u:n.helperMissing,i={name:"randomLine",hash:{},fn:a.program(1,s,0),inverse:a.noop,data:s},t="function"==typeof u?u.call(null!=e?e:{},i):u,n.randomLine||(t=n.blockHelperMissing.call(e,t,i)),null!=t?t:""},useData:!0}),l={};a.Array.each([],function(e){var n=a.Template.get("hermes/"+e);n&&(l[e]=n)}),a.Template.register("hermes/greetings",function(e,s){return s=s||{},s.partials=s.partials?a.merge(l,s.partials):l,n(e,s)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-account-menu-dialog-styleguide",function(a,n){var t=a.Template.Handlebars.revive({1:function(a,n,t,l,e){var s;return'\t\t\t\t<span class="photo-count secondary">'+a.escapeExpression((t.intlHTMLMessage||n&&n.intlHTMLMessage||t.helperMissing).call(null!=n?n:{},{name:"intlHTMLMessage",hash:{used:null!=(s=null!=(s=null!=n?n.attrs:n)?s.user:s)?s.storageUsedFormatted:s,intlName:"account-menu.SPACE_USED_UNLIMITED"},data:e}))+"</span>\n"},3:function(a,n,t,l,e){var s,r=null!=n?n:{},u=a.escapeExpression;return(null!=(s=t.if.call(r,null!=(s=null!=(s=null!=n?n.attrs:n)?s.user:s)?s.photoCount:s,{name:"if",hash:{},fn:a.program(4,e,0),inverse:a.program(12,e,0),data:e}))?s:"")+'\t\t\t<span class="storage-count secondary">'+u((t.intlHTMLMessage||n&&n.intlHTMLMessage||t.helperMissing).call(r,{name:"intlHTMLMessage",hash:{total:null!=(s=null!=(s=null!=n?n.attrs:n)?s.user:s)?s.storageTotalFormatted:s,percentage:null!=(s=null!=(s=null!=n?n.attrs:n)?s.user:s)?s.storageUsedPercentage:s,intlName:"account-menu.SPACE_USED_STYLEGUIDE"},data:e}))+'</span></div>\n\t\t\t<div class="bar" style="box-shadow: 0 0 0 1px #898989, inset '+u(a.lambda(null!=(s=null!=(s=null!=n?n.attrs:n)?s.user:s)?s.barWidth:s,n))+'px 0 #008ddf;">\n'},4:function(a,n,t,l,e){var s;return null!=(s=t.if.call(null!=n?n:{},null!=(s=null!=(s=null!=n?n.attrs:n)?s.user:s)?s.pluralPhotos:s,{name:"if",hash:{},fn:a.program(5,e,0),inverse:a.program(10,e,0),data:e}))?s:""},5:function(a,n,t,l,e){var s;return null!=(s=t.if.call(null!=n?n:{},null!=(s=null!=(s=null!=n?n.attrs:n)?s.user:s)?s.oneK:s,{name:"if",hash:{},fn:a.program(6,e,0),inverse:a.program(8,e,0),data:e}))?s:""},6:function(a,n,t,l,e){var s;return'\t\t\t\t\t<span class="photo-count secondary">'+a.escapeExpression((t.intlHTMLMessage||n&&n.intlHTMLMessage||t.helperMissing).call(null!=n?n:{},{name:"intlHTMLMessage",hash:{num:null!=(s=null!=(s=null!=n?n.attrs:n)?s.user:s)?s.photoCount:s,intlName:"account-menu.PHOTO_COUNT_1K"},data:e}))+"</span>\n"},8:function(a,n,t,l,e){var s;return'\t\t\t\t\t<span class="photo-count secondary">'+a.escapeExpression((t.intlHTMLMessage||n&&n.intlHTMLMessage||t.helperMissing).call(null!=n?n:{},{name:"intlHTMLMessage",hash:{num:null!=(s=null!=(s=null!=n?n.attrs:n)?s.user:s)?s.photoCount:s,intlName:"account-menu.PHOTO_COUNT_MANY"},data:e}))+"</span>\n"},10:function(a,n,t,l,e){return'\t\t\t\t<span class="photo-count secondary">'+a.escapeExpression((t.intlHTMLMessage||n&&n.intlHTMLMessage||t.helperMissing).call(null!=n?n:{},{name:"intlHTMLMessage",hash:{intlName:"account-menu.PHOTO_COUNT_ONE"},data:e}))+"</span>\n"},12:function(a,n,t,l,e){return'\t\t\t\t<span class="photo-count secondary">'+a.escapeExpression((t.intlHTMLMessage||n&&n.intlHTMLMessage||t.helperMissing).call(null!=n?n:{},{name:"intlHTMLMessage",hash:{intlName:"account-menu.PHOTO_COUNT_NONE"},data:e}))+"</span>\n"},14:function(a,n,t,l,e){var s;return null!=(s=t.if.call(null!=n?n:{},null!=(s=null!=(s=null!=n?n.attrs:n)?s.user:s)?s.canBuyPro:s,{name:"if",hash:{},fn:a.program(15,e,0),inverse:a.program(17,e,0),data:e}))?s:""},15:function(a,n,t,l,e){return'\t\t\t\t<div class="upgrade">\n\t\t\t\t\t<a href="/account/upgrade/pro" data-action="follow" class="small butt">'+a.escapeExpression((t.intlMessage||n&&n.intlMessage||t.helperMissing).call(null!=n?n:{},{name:"intlMessage",hash:{intlName:"account-menu.GOPRO"},data:e}))+"</a>\n\t\t\t\t</div>\n"},17:function(a,n,t,l,e){var s;return"\n"+(null!=(s=(t.isNotFlipped||n&&n.isNotFlipped||t.helperMissing).call(null!=n?n:{},"enable-new-pro",{name:"isNotFlipped",hash:{},fn:a.program(18,e,0),inverse:a.noop,data:e}))?s:"")+"\n"},18:function(a,n,t,l,e){return'\n\t\t\t\t\t<div class="upgrade">\n\t\t\t\t\t\t<a href="/account/upgrade/adfree" data-action="follow" class="small butt">'+a.escapeExpression((t.intlMessage||n&&n.intlMessage||t.helperMissing).call(null!=n?n:{},{name:"intlMessage",hash:{intlName:"account-menu.GOADFREE"},data:e}))+"</a>\n\t\t\t\t\t</div>\n\n"},20:function(a,n,t,l,e){var s;return"<span >&nbsp;("+a.escapeExpression(a.lambda(null!=(s=null!=(s=null!=n?n.attrs:n)?s.user:s)?s.unreadMessages:s,n))+")</span>"},compiler:[7,">= 4.0.0"],main:function(a,n,t,l,e){var s,r=a.lambda,u=a.escapeExpression,i=null!=n?n:{},o=t.helperMissing;return'<div class="fluid">\n\t<div class="top-half dark" style="background-image: url('+u(r(null!=(s=null!=(s=null!=(s=null!=n?n.attrs:n)?s.user:s)?s.coverPhotoUrls:s)?s.t:s,n))+')">\n\t\t<a href="/photos/me"><span class="avatar person medium" style="background-image: url('+u(r(null!=(s=null!=(s=null!=(s=null!=n?n.attrs:n)?s.user:s)?s.buddyicon:s)?s.default:s,n))+')"></span></a>\n'+(null!=(s=a.invokePartial(l.greetings,n,{name:"greetings",data:e,indent:"\t\t",helpers:t,partials:l,decorators:a.decorators}))?s:"")+'\t</div>\n\t<div class="bottom-half light">\n\t\t<div class="labels">\n'+(null!=(s=t.if.call(i,null!=(s=null!=(s=null!=n?n.attrs:n)?s.user:s)?s.isPro:s,{name:"if",hash:{},fn:a.program(1,e,0),inverse:a.program(3,e,0),data:e}))?s:"")+"\t\t</div>\n\n"+(null!=(s=t.unless.call(i,null!=(s=null!=(s=null!=n?n.attrs:n)?s.user:s)?s.isNoAds:s,{name:"unless",hash:{},fn:a.program(14,e,0),inverse:a.noop,data:e}))?s:"")+'\n\n\t\t<div class="links secondary">\n\t\t\t<span class="link-wrapper">\n\t\t\t\t<ul>\n\t\t\t\t\t<li><a href="/mail"  data-action="follow">'+u((t.intlMessage||n&&n.intlMessage||o).call(i,{name:"intlMessage",hash:{intlName:"common.FLICKRMAIL"},data:e}))+(null!=(s=t.if.call(i,null!=(s=null!=(s=null!=n?n.attrs:n)?s.user:s)?s.unreadMessages:s,{name:"if",hash:{},fn:a.program(20,e,0),inverse:a.noop,data:e}))?s:"")+'</a></li>\n\t\t\t\t\t<li><a href="//help.flickr.com/"  data-action="follow">'+u((t.intlMessage||n&&n.intlMessage||o).call(i,{name:"intlMessage",hash:{intlName:"common.HELP"},data:e}))+'</a></li>\n\t\t\t\t\t<li><a href="/account"  data-action="follow">'+u((t.intlMessage||n&&n.intlMessage||o).call(i,{name:"intlMessage",hash:{intlName:"common.SETTINGS"},data:e}))+'</a></li>\n\t\t\t\t\t<li><a href="/logout.gne?csrf='+u(r(null!=(s=null!=(s=null!=n?n.attrs:n)?s.user:s)?s.csrf:s,n))+'"  data-action="follow">'+u((t.intlMessage||n&&n.intlMessage||o).call(i,{name:"intlMessage",hash:{intlName:"common.SIGN_OUT"},data:e}))+"</a></li>\n\t\t\t\t</ul>\n\t\t\t</span>\n\t\t</div>\n\t</div>\n</div>\n"},usePartial:!0,useData:!0}),l={};a.Array.each(["greetings"],function(n){var t=a.Template.get("hermes/"+n);t&&(l[n]=t)}),a.Template.register("hermes/account-menu-dialog-styleguide",function(n,e){return e=e||{},e.partials=e.partials?a.merge(l,e.partials):l,t(n,e)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-greetings"]});YUI.add("hermes-template-account-menu-card",function(a,n){var t=a.Template.Handlebars.revive({1:function(a,n,t,e,l){var s;return null!=(s=t.if.call(null!=n?n:{},null!=(s=null!=(s=null!=n?n.attrs:n)?s.user:s)?s.isPro:s,{name:"if",hash:{},fn:a.program(2,l,0),inverse:a.program(4,l,0),data:l}))?s:""},2:function(a,n,t,e,l){var s;return'\t\t\t\t\t<span class="storage-count tertiary">'+a.escapeExpression((t.intlHTMLMessage||n&&n.intlHTMLMessage||t.helperMissing).call(null!=n?n:{},{name:"intlHTMLMessage",hash:{used:null!=(s=null!=(s=null!=n?n.attrs:n)?s.user:s)?s.storageUsedFormatted:s,intlName:"account-menu.SPACE_USED_UNLIMITED"},data:l}))+"</span>\n"},4:function(a,n,t,e,l){var s,r=a.escapeExpression;return'\t\t\t\t\t<div class="bar" style="box-shadow: 0 0 0 1px transparent, inset '+r(a.lambda(null!=(s=null!=(s=null!=n?n.attrs:n)?s.user:s)?s.barWidth:s,n))+'px 0 #008ddf;">\n\t\t\t\t\t\t<span class="storage-count tertiary">'+r((t.intlHTMLMessage||n&&n.intlHTMLMessage||t.helperMissing).call(null!=n?n:{},{name:"intlHTMLMessage",hash:{total:null!=(s=null!=(s=null!=n?n.attrs:n)?s.user:s)?s.storageTotalFormatted:s,percentage:null!=(s=null!=(s=null!=n?n.attrs:n)?s.user:s)?s.storageUsedPercentage:s,intlName:"account-menu.SPACE_USED"},data:l}))+"</span>\n\t\t\t\t\t</div>\n"},6:function(a,n,t,e,l){var s;return null!=(s=t.if.call(null!=n?n:{},null!=(s=null!=(s=null!=n?n.attrs:n)?s.user:s)?s.hasUnlimitedStorage:s,{name:"if",hash:{},fn:a.program(2,l,0),inverse:a.program(4,l,0),data:l}))?s:""},8:function(a,n,t,e,l){return'\t\t\t\t<div class="upgrade" style="display: none;">\n\t\t\t\t\t<a href="/account/upgrade/pro" data-track="accountMenuCardProClick" class="small butt"><div class="balls"></div></a>\n\t\t\t\t</div>\n'},10:function(a,n,t,e,l){var s;return"\n"+(null!=(s=(t.isNotFlipped||n&&n.isNotFlipped||t.helperMissing).call(null!=n?n:{},"enable-new-pro",{name:"isNotFlipped",hash:{},fn:a.program(11,l,0),inverse:a.noop,data:l}))?s:"")+"\n"},11:function(a,n,t,e,l){var s;return null!=(s=t.if.call(null!=n?n:{},null!=(s=null!=(s=null!=n?n.attrs:n)?s.user:s)?s.canBuyPro:s,{name:"if",hash:{},fn:a.program(12,l,0),inverse:a.program(14,l,0),data:l}))?s:""},12:function(a,n,t,e,l){return'\t\t\t\t\t<div class="upgrade">\n\t\t\t\t\t\t<a href="/account/upgrade/pro" data-track="accountMenuCardProClick" class="small butt">'+a.escapeExpression((t.intlMessage||n&&n.intlMessage||t.helperMissing).call(null!=n?n:{},{name:"intlMessage",hash:{intlName:"account-menu.GOPRO"},data:l}))+"</a>\n\t\t\t\t\t</div>\n"},14:function(a,n,t,e,l){var s;return"\n"+(null!=(s=(t.isNotFlipped||n&&n.isNotFlipped||t.helperMissing).call(null!=n?n:{},"enable-new-pro",{name:"isNotFlipped",hash:{},fn:a.program(15,l,0),inverse:a.noop,data:l}))?s:"")+"\n"},15:function(a,n,t,e,l){return'\n\t\t\t\t\t\t<div class="upgrade">\n\t\t\t\t\t\t\t<a href="/account/upgrade/adfree" data-track="accountMenuCardProClick" class="small butt">'+a.escapeExpression((t.intlMessage||n&&n.intlMessage||t.helperMissing).call(null!=n?n:{},{name:"intlMessage",hash:{intlName:"account-menu.GOADFREE"},data:l}))+"</a>\n\t\t\t\t\t\t</div>\n\n"},17:function(a,n,t,e,l){return" with-notifs"},19:function(a,n,t,e,l){var s,r=null!=n?n:{};return'<li><a href="/mail"  data-track="accountMenuMailClick">'+a.escapeExpression((t.intlMessage||n&&n.intlMessage||t.helperMissing).call(r,{name:"intlMessage",hash:{intlName:"common.FLICKRMAIL"},data:l}))+(null!=(s=t.if.call(r,null!=(s=null!=(s=null!=n?n.attrs:n)?s.user:s)?s.unreadMessages:s,{name:"if",hash:{},fn:a.program(20,l,0),inverse:a.noop,data:l}))?s:"")+"</a></li>"},20:function(a,n,t,e,l){var s;return"<span >&nbsp;("+a.escapeExpression(a.lambda(null!=(s=null!=(s=null!=n?n.attrs:n)?s.user:s)?s.unreadMessages:s,n))+")</span>"},compiler:[7,">= 4.0.0"],main:function(a,n,t,e,l){var s,r=null!=n?n:{},i=t.helperMissing,u=a.escapeExpression;return'<div class="fluid account-menu-card">\n\t<div class="title">\n'+(null!=(s=a.invokePartial(e.greetings,n,{name:"greetings",data:l,indent:"\t\t",helpers:t,partials:e,decorators:a.decorators}))?s:"")+'\t</div>\n\t<div class="info">\n\t\t<div class="labels">\n\n'+(null!=(s=(t.isNotFlipped||n&&n.isNotFlipped||i).call(r,"enable-new-pro",{name:"isNotFlipped",hash:{},fn:a.program(1,l,0),inverse:a.noop,data:l}))?s:"")+(null!=(s=(t.isFlipped||n&&n.isFlipped||i).call(r,"enable-new-pro",{name:"isFlipped",hash:{},fn:a.program(6,l,0),inverse:a.noop,data:l}))?s:"")+"\n\t\t</div>\n\n"+(null!=(s=(t.isFlipped||n&&n.isFlipped||i).call(r,"enable-new-pro",{name:"isFlipped",hash:{},fn:a.program(8,l,0),inverse:a.noop,data:l}))?s:"")+"\n"+(null!=(s=t.unless.call(r,null!=(s=null!=(s=null!=n?n.attrs:n)?s.user:s)?s.isNoAds:s,{name:"unless",hash:{},fn:a.program(10,l,0),inverse:a.noop,data:l}))?s:"")+'\n\n\t\t<div class="links secondary">\n\t\t\t<span class="link-wrapper'+(null!=(s=(t.isFlipped||n&&n.isFlipped||i).call(r,"notifications-menu",{name:"isFlipped",hash:{},fn:a.program(17,l,0),inverse:a.noop,data:l}))?s:"")+'">\n\t\t\t\t<ul>\n\t\t\t\t\t'+(null!=(s=(t.isNotFlipped||n&&n.isNotFlipped||i).call(r,"notifications-menu",{name:"isNotFlipped",hash:{},fn:a.program(19,l,0),inverse:a.noop,data:l}))?s:"")+'\n\n\t\t\t\t\t<li><a href="//help.flickr.com/"  data-track="accountMenuHelpClick">'+u((t.intlMessage||n&&n.intlMessage||i).call(r,{name:"intlMessage",hash:{intlName:"common.HELP"},data:l}))+'</a></li>\n\n\t\t\t\t\t<li><a href="/account" data-track="accountMenuWalletClick">'+u((t.intlMessage||n&&n.intlMessage||i).call(r,{name:"intlMessage",hash:{intlName:"common.SETTINGS"},data:l}))+'</a></li>\n\n\t\t\t\t\t<li><a href="/logout.gne?csrf='+u(a.lambda(null!=(s=null!=(s=null!=n?n.attrs:n)?s.user:s)?s.csrf:s,n))+'"  data-track="accountMenuSignoutClick">'+u((t.intlMessage||n&&n.intlMessage||i).call(r,{name:"intlMessage",hash:{intlName:"common.SIGN_OUT"},data:l}))+"</a></li>\n\t\t\t\t</ul>\n\t\t\t</span>\n\t\t</div>\n\t</div>\n</div>\n"},usePartial:!0,useData:!0}),e={};a.Array.each(["greetings"],function(n){var t=a.Template.get("hermes/"+n);t&&(e[n]=t)}),a.Template.register("hermes/account-menu-card",function(n,l){return l=l||{},l.partials=l.partials?a.merge(e,l.partials):e,t(n,l)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-greetings"]});YUI.add("hermes-template-account-menu-card-get-pro-button",function(a,e){var n=a.Template.Handlebars.revive({1:function(a,e,n,t,l){return'\t<div class="upgrade">\n\t\t<a href="/account/upgrade/pro" data-action="follow" class="small butt">'+a.escapeExpression((n.intlMessage||e&&e.intlMessage||n.helperMissing).call(null!=e?e:{},{name:"intlMessage",hash:{intlName:"account-menu.GETPRO"},data:l}))+"</a>\n\t</div>\n"},3:function(a,e,n,t,l){return'\t<div class="upgrade">\n\t\t<a href="/account/upgrade/pro" data-action="follow" class="small butt">'+a.escapeExpression((n.intlMessage||e&&e.intlMessage||n.helperMissing).call(null!=e?e:{},{name:"intlMessage",hash:{intlName:"account-menu.RESUBSCRIBE_TO_PRO"},data:l}))+"</a>\n\t</div>\n"},compiler:[7,">= 4.0.0"],main:function(a,e,n,t,l){var s,r=null!=e?e:{};return(null!=(s=n.if.call(r,null!=e?e.canPurchase:e,{name:"if",hash:{},fn:a.program(1,l,0),inverse:a.noop,data:l}))?s:"")+(null!=(s=n.if.call(r,null!=e?e.canResubscribe:e,{name:"if",hash:{},fn:a.program(3,l,0),inverse:a.noop,data:l}))?s:"")},useData:!0}),t={};a.Array.each([],function(e){var n=a.Template.get("hermes/"+e);n&&(t[e]=n)}),a.Template.register("hermes/account-menu-card-get-pro-button",function(e,l){return l=l||{},l.partials=l.partials?a.merge(t,l.partials):t,n(e,l)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("flickr-braintree-close-deletor",function(e,r){"use strict";e.namespace("ModelDeletors")["flickr-braintree-close-deletor"]={run:function(l,c){return c.callAPI("flickr.subscriptions.braintree.close",l).then(null,e.FetcherErrorLogger(r))}}},"@VERSION@",{requires:["flickr-promise"]});YUI.add("flickr-subscriptions-changePlan-updater",function(r,e){"use strict";r.namespace("ModelUpdaters")["flickr-subscriptions-changePlan-updater"]={run:function(n,c){return c.callAPI("flickr.subscriptions.changePlan",n).then(null,r.FetcherErrorLogger(e))}}},"@VERSION@",{requires:["flickr-promise"]});YUI.add("flickr-products-shipping-fetcher",function(e,r){"use strict";e.namespace("ModelFetchers")["flickr-products-shipping"]={run:function(s,t){var o=this;return e.Promise.all([t.callAPI("flickr.products.orders.getShippingAddress",this._processParams(s)),t.getModelRegistry("products-address-models")]).then(function(e){return o._processResponse(e,s)},e.FetcherErrorLogger(r))},_processResponse:function(e,r){var s,t,o;t=e&&e[0]&&e[0].orderInfo&&e[0].orderInfo.shippingAddress?e[0].orderInfo.shippingAddress:{},o={orderId:e[0].orderInfo.orderId,id:r.id,city:t.city||"",countryCode:t.countryCode||"US",firstName:t.firstName||"",lastName:t.lastName||"",phone:t.phone||"",postalCode:t.postalCode||"",state:t.state||"",street1:t.street1||"",street2:t.street2||""},(s=e[1]).exists(r.id)?(delete o.id,s.setValues(r.id,o)):s.add(o)},_processParams:function(e){var r={};return r.order_id=e.id,r}}},"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["products-address-models"]});YUI.add("flickr-products-orders-setShippingAddress-updater",function(r,e){"use strict";function t(r){var e;if(!r||!r.orderInfo)throw new Error(-2);if(void 0!==(e=r.orderInfo).isValidAddress&&"false"===e.isValidAddress)throw new Error(-1);return!0}r.namespace("ModelUpdaters")["flickr-products-orders-setShippingAddress"]={run:function(s,o){var i,d=s;return i={order_id:d.id,first_name:d.firstName,last_name:d.lastName,street1:d.street1,street2:d.street2,city:d.city,state:d.state,postal_code:d.postalCode,country_code:d.countryCode||"US",phone:d.phone,shipping_type:d.shippingType},o.callAPI("flickr.products.orders.setShippingAddress",i).then(t,r.FetcherErrorLogger(e))}}},"@VERSION@",{requires:["flickr-promise"],optional:[]});YUI.add("flickr-products-orders-clearAddress-deletor",function(r,e){"use strict";function s(r){return!0}r.namespace("ModelDeletors")["flickr-products-orders-clearAddress"]={run:function(t,d){var o;return o={order_id:t.orderId,first_name:"",last_name:"",street1:"",street2:"",city:"",state:"",postal_code:"",country_code:"US",phone:"",clear_shipping_address:1},d.callAPI("flickr.products.orders.setShippingAddress",o).then(s,r.FetcherErrorLogger(e))}}},"@VERSION@",{requires:["flickr-promise"],optional:[]});YUI.add("products-address-models",function(t){function e(t){e.superclass.constructor.call(this,t)}t.Models[this.name]=e,t.extend(e,t.FlickrModelRegistry,{name:this.name,remote:{read:function(e){return t.ModelFetchers["flickr-products-shipping"].run(e,this.appContext)},update:function(e,r){var n={},i=this;return Object.keys(this.attributes).forEach(function(t){n[t]=void 0!==r[t]?r[t].newVal:i.getValue(e,t)}),this.appContext.getModel("flickr-products-orders-models",e).then(function(e){return n.shippingType=e.getValue("shippingType"),t.ModelUpdaters["flickr-products-orders-setShippingAddress"].run(n,i.appContext)})},delete:function(e){return t.ModelDeletors["flickr-products-orders-clearAddress"].run({orderId:this.getValue(e,"orderId")},this.appContext)}},isComplete:function(t){var e=Object.keys(this.attributes),r=["cacheBust","street2"],n=this.proxy(t);return e.every(function(t){return!(r.indexOf(t)<0&&""===n.getValue(t))})},attributes:{cacheBust:{},orderId:{getter:function(t){return t||""},validator:function(e){return t.AttributeHelpers.validateString(e)},setter:function(e){return t.AttributeHelpers.coerceString(e)}},firstName:{getter:function(t){return t||""},validator:function(e){return t.AttributeHelpers.validateString(e)},setter:function(e){return t.AttributeHelpers.coerceString(e)}},lastName:{getter:function(t){return t||""},validator:function(e){return t.AttributeHelpers.validateString(e)},setter:function(e){return t.AttributeHelpers.coerceString(e)}},street1:{getter:function(t){return t||""},validator:function(e){return t.AttributeHelpers.validateString(e)},setter:function(e){return t.AttributeHelpers.coerceString(e)}},street2:{getter:function(t){return t||""},validator:function(e){return t.AttributeHelpers.validateString(e)},setter:function(e){return t.AttributeHelpers.coerceString(e)}},city:{getter:function(t){return t||""},validator:function(e){return t.AttributeHelpers.validateString(e)},setter:function(e){return t.AttributeHelpers.coerceString(e)}},state:{getter:function(t){return t||""},validator:function(e){return t.AttributeHelpers.validateString(e)},setter:function(e){var r;return 2===(r=t.AttributeHelpers.coerceString(e)).length&&(r=r.toUpperCase()),r}},postalCode:{getter:function(t){return t||""},validator:function(e){return t.AttributeHelpers.validateString(e)},setter:function(e){return t.AttributeHelpers.coerceString(e)}},countryCode:{getter:function(t){return t||""},validator:function(e){return t.AttributeHelpers.validateString(e)},setter:function(e){return t.AttributeHelpers.coerceString(e)},defaultValue:"US"},phone:{getter:function(t){return t||""},validator:function(e){return t.AttributeHelpers.validateString(e)},setter:function(e){return t.AttributeHelpers.coerceString(e)}}}})},"@VERSION@",{requires:["flickr-model-registry"],optional:["flickr-products-shipping-fetcher","flickr-products-orders-setShippingAddress-updater","flickr-products-orders-clearAddress-deletor"]});YUI.add("subscription-history-list-models",function(e){function r(e){r.superclass.constructor.call(this,e)}e.Models[this.name]=r,e.extend(r,e.FlickrModelRegistry,{name:this.name,remote:{read:function(r){return e.ModelFetchers["flickr-braintree-customerDetails-fetcher"].run(r,this.appContext)}},attributes:{subscriptions:{isListProxy:!0},oneTimePro:{}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-promise","flickr-braintree-customerDetails-fetcher"]});YUI.add("flickr-braintree-customerDetails-fetcher",function(e,t){"use strict";require("hermes-core/flog")(t);e.namespace("ModelFetchers")["flickr-braintree-customerDetails-fetcher"]={run:function(s,r){var i=this,a=this._processParams(s);return e.Promise.all([r.callAPI("flickr.subscriptions.braintree.getCustomerDetails",a,!0),r.getModelRegistry("products-address-models"),r.getModelRegistry("subscription-history-list-models"),r.getModelRegistry("subscription-history-models")]).then(function(e){return i._processResponse(e,s,r)},e.PromiseCatcher(t))},_processParams:function(e){return{account_id:e.id}},_processResponse:function(t,s,r){var i,a,o=t[0],n=t[1],d=t[2],c=t[3],l={};a=o.customerDetails.subscriptions,(i=o.customerDetails.addresses)&&i instanceof Array&&i.forEach(function(e){var t={};t={firstName:e.firstName,lastName:e.lastName,street1:e.street1,street2:e.street2,city:e.city,state:e.state,postalCode:e.postalCode,countryCode:e.countryCode,phone:e.phone},n.exists(e.id)?n.setValues(e.id,t):(t.id=e.id,n.add(t))}),a&&a instanceof Array&&(l.subscriptions=a.map(function(t){var s={};return t.status=parseInt(t.status,10),t.type=parseInt(t.type,10),s.startDate=1e3*t.startDate,s.billingScheduleMonths=t.billingScheduleMonths,s.nextBillingDate=1e3*t.nextBillingDate,s.effectiveEndDate=1e3*t.effectiveEndDate,s.type=t.type,s.paymentMethodId=t.paymentMethodId,s.status=t.status,s.amountBilled=t.amountBilled,s.transactions=t.transactions,s.prettyName=t.planInfo.prettyName,s.prettyNameDuration=t.planInfo.prettyNameDuration,s.pendingPrice=t.pendingPrice||void 0,e.Array.each(s.transactions,function(t){t.formattedCreateDate=e.moment(t.dateCreate,"X").format("MMM Do, YYYY"),t.isRefund=!1,3===parseInt(t.transactionType,10)&&(t.isRefund=!0)}),c.exists(t.id)?(c.setValues(t.id,s),c.proxy(t.id)):(s.id=t.id,c.add(s))}),o.customerDetails.paymentHistory&&(l.oneTimePro=o.customerDetails.paymentHistory.proStatus)),d.exists(s.id)?d.setValues(s.id,l):(l.id=s.id,d.add(l))}}},"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["subscription-history-models","subscription-history-list-models","products-address-models"]});YUI.add("subscription-history-models",function(t){function e(t){e.superclass.constructor.call(this,t)}t.Models[this.name]=e,t.extend(e,t.FlickrModelRegistry,{name:this.name,remote:{update:function(e,r){return t.ModelUpdaters["flickr-subscriptions-changePlan-updater"].run({current_plan_type:r.type.prevVal,new_plan_type:r.type.newVal},this.appContext)},delete:function(e,r){return t.ModelDeletors["flickr-braintree-close-deletor"].run({subscription_id:e},this.appContext)}},attributes:{startDate:{validator:function(e,r){return!(parseInt(e,10)>0)||t.AttributeHelpers.validateDate(e)},setter:function(e){if(parseInt(e,10)>0)return t.AttributeHelpers.coerceDate(e)||void 0},serialize:function(t){return t.format("X")},deserialize:function(e){return t.moment(e,"X")},defaultFn:function(t){}},nextBillingDate:{validator:function(e,r){return!(parseInt(e,10)>0)||t.AttributeHelpers.validateDate(e)},setter:function(e){if(parseInt(e,10)>0)return t.AttributeHelpers.coerceDate(e)||void 0},serialize:function(t){return t.format("X")},deserialize:function(e){return t.moment(e,"X")},defaultFn:function(t){}},effectiveEndDate:{validator:function(e,r){return!(parseInt(e,10)>0)||t.AttributeHelpers.validateDate(e)},setter:function(e){if(parseInt(e,10)>0)return t.AttributeHelpers.coerceDate(e)||void 0},serialize:function(t){return t.format("X")},deserialize:function(e){return t.moment(e,"X")},defaultFn:function(t){}},billingScheduleMonths:{validator:function(e,r){return t.AttributeHelpers.validateInteger(e)},setter:function(e){return t.AttributeHelpers.coerceInteger(e)||void 0},defaultFn:function(t){return 0}},type:{validator:function(e,r){return t.AttributeHelpers.validateInteger(e)},setter:function(e){return t.AttributeHelpers.coerceInteger(e)||void 0},defaultFn:function(t){return-1}},paymentMethodId:{validator:function(e,r){return t.AttributeHelpers.validateString(e)},setter:function(e){return t.AttributeHelpers.coerceString(e)||void 0},defaultFn:function(t){return""}},prettyName:{validator:function(e,r){return t.AttributeHelpers.validateString(e)},setter:function(e){return t.AttributeHelpers.coerceString(e)||void 0},defaultFn:function(t){return""}},prettyNameDuration:{validator:function(e,r){return t.AttributeHelpers.validateString(e)},setter:function(e){return t.AttributeHelpers.coerceString(e)||void 0},defaultFn:function(t){return""}},status:{validator:function(e,r){return t.AttributeHelpers.validateInteger(e)},setter:function(e){return t.AttributeHelpers.coerceInteger(e)||void 0},defaultFn:function(t){return-1}},amountBilled:{validator:function(e,r){return t.AttributeHelpers.validateFloat(e)},setter:function(e){return t.AttributeHelpers.coerceFloat(e)||void 0},defaultFn:function(t){return 0}},pendingPrice:{validator:function(e,r){return t.AttributeHelpers.validateFloat(e)},setter:function(e){return t.AttributeHelpers.coerceFloat(e)||void 0},defaultFn:function(t){return 0}},transactions:{}}})},"@VERSION@",{requires:["flickr-braintree-customerDetails-fetcher","flickr-braintree-close-deletor","flickr-subscriptions-changePlan-updater"]});YUI.add("hermes-template-user-account-card",function(t,n){var e=t.Template.Handlebars.revive({compiler:[7,">= 4.0.0"],main:function(t,n,e,s,a){return'<div class="account-card-container">\n\t<section class="greeting-section">\n\t\t<h1>TMP Henlo, jordy pordy</h1>\n\t\t<p>TMP Now u know how to say hi there in some crazy lango.</p>\n\t</section>\n\t<section class="user-stats-section">\n\t\t<div class="stat items">\n\t\t\t<div class="label">TMP Items</div>\n\t\t\t<div class="count">TMP 13.9K</div>\n\t\t</div>\n\t\t<div class="stat views">\n\t\t\t<div class="label">TMP Views</div>\n\t\t\t<div class="count">TMP 2.7M</div>\n\t\t</div>\n\t</section>\n\t<section class="storage-section">\n\t\t<div class="graph-container">\n\t\t\t<div class="graph">\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="details-container">\n\t\t\t<p class="space-used-text">\n\t\t\t\tTMP 2.92 GB used of 5GB\n\t\t\t</p>\n\t\t\t<a href="#" class="unlimited-storage-link">\n\t\t\t\tTMP Get unlimited storage\n\t\t\t</a>\n\t\t</div>\n\t</section>\n\t<section class="menu-section">\n\t\t<ul>\n\t\t\t<li>\n\t\t\t\t<a href="#">TMP FlickrMail (5)</a>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<a href="#">TMP Settings</a>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<a href="#">TMP Help</a>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<a href="#">TMP Logout</a>\n\t\t\t</li>\n\t\t</ul>\n\t</section>\n</div>\n'},useData:!0}),s={};t.Array.each([],function(n){var e=t.Template.get("hermes/"+n);e&&(s[n]=e)}),t.Template.register("hermes/user-account-card",function(n,a){return a=a||{},a.partials=a.partials?t.merge(s,a.partials):s,e(n,a)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("circle-fill-graph",function(t){var n=Math.PI,e=.01;t.CircleFillGraph=function(i){function r(){C=Date.now(),O=C,F=0,M=0,Q=0,x=0,k=0,m=0,y=0,E=0,S=0,W=0,w=t.AnimationManager.subscribe(o)}function o(){b.clearRect(0,0,v.width,v.height),(function(){var t=Date.now();if(F=(t-O)/1e3,M=(t-C)/1e3,k<I.length){var i,r=I[k],o=k>0?I[k-1]:{durationProportion:0,fillProportion:0},a=p*(r.durationProportion-o.durationProportion);S=W+F/a,i=r.easeFunction?R[r.easeFunction](S):S,y=o.fillProportion+(r.fillProportion-o.fillProportion)*i,S>=1&&(y=r.fillProportion,S=0,W=0,k===m&&k++)}b.beginPath(),b.lineWidth=l,b.strokeStyle=g,b.arc(c.x,c.y,s,0,2*n),b.stroke(),(function(t){for(var i=f*t,r=f,o=0;o<i;o++)!(function(t,i){for(var r,o,a=t/i,u=0,h=0;h<P.length;h++)if(P[h].fillProportion>a){u=h-1;break}var p=P[u],g=u+1<P.length?P[u+1]:p;r=p.value,o=g.value;var I=(a-p.fillProportion)/(g.fillProportion-p.fillProportion),v=Math.ceil(parseInt(r.substring(0,2),16)*(1-I)+parseInt(o.substring(0,2),16)*I),w=Math.ceil(parseInt(r.substring(2,4),16)*(1-I)+parseInt(o.substring(2,4),16)*I),C=Math.ceil(parseInt(r.substring(4,6),16)*(1-I)+parseInt(o.substring(4,6),16)*I);b.beginPath(),b.lineWidth=l,b.strokeStyle="rgba("+v+", "+w+", "+C+")",b.arc(c.x,c.y,s,2*n*t/f+d,2*n*(t+1)/f+d+e),b.stroke()})(o,r)})(y),W=S,E=y,m=k,O=t})(),M>p&&w.detach()}var a,u,l,s,c,f,h,d,p,g,P,I,v,b,w,C,O,F,M,Q,x,k,m,y,E,S,W,R;return R={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},easeOutElastic:function(t){return(.04-.04/t)*Math.sin(25*t)+1},easeInElastic:function(t){return.04*t/--t*Math.sin(25*t)},easeInOutElastic:function(t){return(t-=.5)<0?(.02+.01/t)*Math.sin(50*t):(.02-.01/t)*Math.sin(50*t)+1}},(function(t){return t=t||{},a=t.containerElement,u=t.dim||{width:a.clientWidth,height:a.clientHeight},l=t.lineWidth||5,s=t.radius||u.width/2-l/2,c=t.pos||{x:u.width/2,y:u.height/2},f=t.segments||60,h=t.fillProportion||.8,d=t.rotOffset||-Math.PI/2,p=t.duration||1,g=t.backgroundStrokeColor||"#eeeeee",P=t.gradient||[{fillProportion:0,value:"5BF4FC"},{fillProportion:.3,value:"5BF4FC"},{fillProportion:.7,value:"FF32C4"},{fillProportion:1,value:"FF32C4"}],I=t.stops||[{durationProportion:1,fillProportion:h}],v=(function(t){var n=document.createElement("canvas"),e=n.getContext("2d"),i=window.devicePixelRatio||1;return t.appendChild(n),n.style.width=u.width+"px",n.style.height=u.height+"px",n.width=u.width*i,n.height=u.height*i,e.scale(i,i),n})(t.containerElement),b=v.getContext("2d"),{start:r}})(i)}},"@VERSION@");YUI.add("user-account-card-view",function(e,i){require("hermes-core/flog")(i);e.namespace("Views")[this.name]=e.Base.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(e){this.params=e},loadState:function(){return e.Promise.resolve()},buildContainer:function(){this.setContainerWithTemplate("user-account-card",{})},activate:function(){var e=this.get("container");this.canvasContainer=e.one(".storage-section .graph"),this.drawStorageCircle()},drawStorageCircle:function(){new e.CircleFillGraph({containerElement:this.canvasContainer.getDOMNode(),lineWidth:3,backgroundStrokeColor:"#e1e1e1",gradient:[{fillProportion:0,value:"5BF4FC"},{fillProportion:.3,value:"33b7ff"},{fillProportion:.7,value:"FF32C4"},{fillProportion:1,value:"FF32C4"}],duration:1.4,stops:[{durationProportion:.2,fillProportion:0},{durationProportion:.65,fillProportion:.7,easeFunction:"easeOutQuad"},{durationProportion:1,fillProportion:.1,easeFunction:"easeInOutQuad"}]}).start()}})},"@VERSION@",{requires:["hermes-template-user-account-card","circle-fill-graph"],langBundles:["common"]});